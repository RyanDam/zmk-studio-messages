// Requests
syntax = "proto3";

package zmk.studio;

import "meta.proto";
import "core.proto";
import "behaviors.proto";
import "keymap.proto";
import "sensors.proto";
import "macros.proto";

message Request {
  uint32 request_id = 1;

  oneof subsystem {
    zmk.core.Request core = 3;
    zmk.behaviors.Request behaviors = 4;
    zmk.keymap.Request keymap = 5;
    zmk.sensors.Request sensors = 6;
    zmk.macros.Request macros = 7;
  }
}

message Response {
  oneof type {
    RequestResponse request_response = 1;
    Notification notification = 2;
  }
}

message RequestResponse {
  uint32 request_id = 1;
  oneof subsystem {
    zmk.meta.Response meta = 2;
    zmk.core.Response core = 3;
    zmk.behaviors.Response behaviors = 4;
    zmk.keymap.Response keymap = 5;
    zmk.sensors.Response sensors = 6;
    zmk.macros.Response macros = 7;
  }
}

message Notification {
  oneof subsystem {
    zmk.core.Notification core = 2;
    zmk.keymap.Notification keymap = 5;
    zmk.sensors.Notification sensors = 6;
    zmk.macros.Notification macros = 7;
  }
}
